engine: GO_TEXT
fullName:
  name: minimal
data: |
  fullName:
    credentialName: "{{ getVal "CredentialName" }}"
    name: "{{ getVal "Name" }}"
    region: "{{ getVal "Region" }}"
  spec:
    clusterGroupName: "{{ getVal "ClusterGroupName" }}"
    config:
      roleArn: "{{ getVal "ControlplaneRoleArn" }}"
      version: "{{ getVal "Version" }}"
      vpc:
        enablePrivateAccess: {{ getVal "EnablePrivateAccess" }}
        enablePublicAccess: {{ getVal "EnablePublicAccess" }}
        subnetIds:
          {{- range $i, $value := getVal "SubnetIds" }}
          - "{{ $value }}"
          {{- end }}
    nodePools:
    - info:
        name: "{{ getVal "NodepoolName" }}"
      spec:
        roleArn: "{{ getVal "NodepoolRoleArn" }}"
        subnetIds:
          {{- range $i, $value := getVal "NodepoolSubnetIds" }}
          - "{{ $value }}"
          {{- end }}
  type:
    kind: EksCluster
    package: vmware.tanzu.manage.v1alpha1.ekscluster
    version: v1alpha1
input:
- description: Name of the credential.
  field: CredentialName
  schema:
    type: string
- description: Name of this cluster.
  field: Name
  schema:
    type: string
- description: Name of the region.
  field: Region
  schema:
    type: string
- description: Name of the cluster group to which this cluster belongs.
  field: ClusterGroupName
  schema:
    type: string
- description: ARN of the IAM role that provides permissions for the Kubernetes control
    plane to make calls to AWS API operations.
  field: ControlplaneRoleArn
  schema:
    type: string
- description: Kubernetes version of the cluster.
  field: Version
  schema:
    type: string
- description: Enable private access on the cluster.
  field: EnablePrivateAccess
  schema:
    type: bool
- description: Enable public access on the cluster.
  field: EnablePublicAccess
  schema:
    type: bool
- description: Subnet ids used by the cluster.
  field: SubnetIds
  schema:
    items:
      type: string
    type: list
- description: Name of the nodepool.
  field: NodepoolName
  default: "default-node-pool"
  schema:
    type: string
- description: ARN of the IAM role that provides permissions for the Kubernetes nodepool
    to make calls to AWS API operations.
  field: NodepoolRoleArn
  schema:
    type: string
- description: Subnets required for the nodepool.
  field: NodepoolSubnetIds
  schema:
    items:
      type: string
    type: list
meta:
  description: Fully customizable template for the EksCluster resource
type:
  kind: Template
  package: vmware.tanzu.manage.v1alpha1.ekscluster
  version: v1alpha1
